(function(e){function t(t){for(var s,r,i=t[0],l=t[1],u=t[2],p=0,d=[];p<i.length;p++)r=i[p],n[r]&&d.push(n[r][0]),n[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);c&&c(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],s=!0,i=1;i<a.length;i++){var l=a[i];0!==n[l]&&(s=!1)}s&&(o.splice(t--,1),e=r(r.s=a[0]))}return e}var s={},n={app:0},o=[];function r(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=s,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var c=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var s=a("c21b"),n=a.n(s);n.a},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],r={mounted(){this.$store.dispatch("authenticate")}},i=r,l=(a("034f"),a("2877")),u=Object(l["a"])(i,n,o,!1,null,null,null);u.options.__file="App.vue";var c=u.exports,p=a("8c4f"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[e._m(0),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){e.Logout()}}},[e._v("Logout")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.createKeep(t)}}},[e._v("Create a Keep:\n        "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newKeep.name,expression:"newKeep.name"}],staticClass:"form-control",attrs:{type:"text",Default:"name",placeholder:"Name"},domProps:{value:e.newKeep.name},on:{input:function(t){t.target.composing||e.$set(e.newKeep,"name",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newKeep.description,expression:"newKeep.description"}],staticClass:"form-control",attrs:{type:"text",Default:"description",placeholder:"Description"},domProps:{value:e.newKeep.description},on:{input:function(t){t.target.composing||e.$set(e.newKeep,"description",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newKeep.imgUrl,expression:"newKeep.imgUrl"}],staticClass:"form-control",attrs:{type:"text",Default:"imgUrl",placeholder:"imgUrl"},domProps:{value:e.newKeep.imgUrl},on:{input:function(t){t.target.composing||e.$set(e.newKeep,"imgUrl",t.target.value)}}}),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Create Keep")])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.createVault(t)}}},[e._v("Create a Vault:\n        "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newVault.name,expression:"newVault.name"}],staticClass:"form-control",attrs:{type:"text",Default:"name",placeholder:"name"},domProps:{value:e.newVault.name},on:{input:function(t){t.target.composing||e.$set(e.newVault,"name",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newVault.description,expression:"newVault.description"}],staticClass:"form-control",attrs:{type:"text",Default:"description",placeholder:"description"},domProps:{value:e.newVault.description},on:{input:function(t){t.target.composing||e.$set(e.newVault,"description",t.target.value)}}}),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:e.createVault}},[e._v("Create Vault")])])])]),e._m(1),e._l(e.keeps,function(t){return a("li",[a("div",[a("h4",{attrs:{"data-toggle":"tooltip","data-placement":"top",title:"testHover"}},[e._v(e._s(t.name))]),a("h5",[e._v(e._s(t.description))]),a("p",{on:{click:e.incrementViews}},[e._v("views: "+e._s(t.views))]),a("p",{on:{click:e.incrementKeeps}},[e._v("keeps: "+e._s(t.keeps))]),a("p",{on:{click:e.incrementShares}},[e._v("shares: "+e._s(t.shares))]),a("button",{attrs:{type:"button","data-toggle":"tooltip","data-placement":"top",title:"testHover"}},[e._v("view")]),a("button",[e._v("keep")]),a("button",[e._v("share")]),a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{type:"button",id:"menuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v("\n          Add Keep to Vault\n        ")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"menuButton"}},e._l(e.vaults,function(s){return a("a",{on:{click:function(a){e.addToVault(t.id,s.id)}}},[a("button",{staticClass:"btn btn-primary",on:{click:function(a){e.addToVault(t.id,s.id)}}},[e._v(e._s(s.name))])])}))])])])}),e.user.id?a("router-link",{attrs:{to:{name:"vaults"}}},[e._v("GO TO VAULTS")]):e._e()],2)},m=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",[a("h1",{staticClass:"font-weight-thin.font-italic"},[e._v("Welcome to Keepr")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("h3",[e._v("List of Public Keeps:")])])}],v={name:"home",mounted(){this.$store.dispatch("getAllKeeps"),this.$store.state.user.id?this.$store.dispatch("getAllVaults"):this.$router.push({name:"login"})},data(){return{newKeep:{title:"",description:"",imgUrl:""},newVault:{title:"",description:""}}},computed:{keeps(){return this.$store.state.keeps},vaults(){return this.$store.state.vaults},user(){return this.$store.state.user}},methods:{addToVault(e,t){console.log(e,t),this.$store.dispatch("addToVault",this.vaultid)},createKeep(){console.log("hitting create keep from button"),this.$store.dispatch("createKeep",this.newKeep)},GetAll(){console.log("hitting getAll from button"),this.$store.dispatch("getAllKeeps")},createVault(){console.log("hitting create vault from button"),this.$store.dispatch("createVault",this.newVault)},getAllVaults(){console.log("hitting getallVaultsfrom button"),this.$store.dispatch("getAllVaults")},getKeepsByVaultId(){console.log("htitingKeepsByVaultIdfrom button in store"),this.$store.dispatch("getKeepsByVaultId")},incrementKeeps(){this.$store.dispatch("incrementKeeps")},incrementShares(){this.$store.dispatch("incrementShares")},incrementViews(){this.$store.dispatch("incrementViews")},Logout(){}}},h=v,g=Object(l["a"])(h,d,m,!1,null,null,null);g.options.__file="Home.vue";var f=g.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[e.loginForm?a("form",{on:{submit:function(t){return t.preventDefault(),e.loginUser(t)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.creds.email,expression:"creds.email"}],attrs:{type:"email",placeholder:"email"},domProps:{value:e.creds.email},on:{input:function(t){t.target.composing||e.$set(e.creds,"email",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.creds.password,expression:"creds.password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:e.creds.password},on:{input:function(t){t.target.composing||e.$set(e.creds,"password",t.target.value)}}}),a("button",{attrs:{type:"submit"}},[e._v("Login")])]):a("form",{on:{submit:function(t){return t.preventDefault(),e.register(t)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.username,expression:"newUser.username"}],attrs:{type:"text",placeholder:"name"},domProps:{value:e.newUser.username},on:{input:function(t){t.target.composing||e.$set(e.newUser,"username",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.email,expression:"newUser.email"}],attrs:{type:"email",placeholder:"email"},domProps:{value:e.newUser.email},on:{input:function(t){t.target.composing||e.$set(e.newUser,"email",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.password,expression:"newUser.password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:e.newUser.password},on:{input:function(t){t.target.composing||e.$set(e.newUser,"password",t.target.value)}}}),a("button",{attrs:{type:"submit"}},[e._v("Create Account")])]),a("div",{on:{click:function(t){e.loginForm=!e.loginForm}}},[e.loginForm?a("p",[e._v("No account Click to Register")]):a("p",[e._v("Already have an account click to Login")])])])},V=[],_={name:"login",mounted(){this.$store.dispatch("authenticate")},data(){return{loginForm:!0,creds:{email:"",password:""},newUser:{email:"",password:"",username:""}}},methods:{register(){this.$store.dispatch("register",this.newUser)},loginUser(){this.$store.dispatch("login",this.creds)}}},b=_,K=Object(l["a"])(b,w,V,!1,null,null,null);K.options.__file="Login.vue";var y=K.exports,$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vaults"},[e._v("\n  Here are your vaults:\n  "),a("form",{on:{submit:function(t){return t.preventDefault(),e.addVault(t)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newVault.title,expression:"newVault.title"}],attrs:{type:"text",placeholder:"New Vault",required:""},domProps:{value:e.newVault.title},on:{input:function(t){t.target.composing||e.$set(e.newVault,"title",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newVault.description,expression:"newVault.description"}],attrs:{type:"text",placeholder:"description"},domProps:{value:e.newVault.description},on:{input:function(t){t.target.composing||e.$set(e.newVault,"description",t.target.value)}}}),a("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[e._v("Create Vault")])]),e._l(e.vaults,function(t){return a("div",{key:t._id},[a("h2",[a("router-link",{attrs:{to:{name:"vault",params:{vaultId:t.id}}}},[e._v(e._s(t.name))])],1),a("button",{staticClass:"btn btn-dark",on:{click:function(a){e.deleteVault(t._id)}}},[e._v("Delete Vault")])])})],2)},k=[],x={name:"vaults",created(){this.$store.state.user.id||this.$router.push({name:"login"})},data(){return{newVault:{title:"",description:"",vaultId:"",userId:""}}},computed:{vaults(){return this.$store.state.vaults}},methods:{addVault(){this.$store.dispatch("addVault",this.newVault),this.newVault={title:"",description:"",vaultId:"",userId:""}},deleteVault(e){this.$store.dispatch("deleteVault",e)}}},C=x,U=Object(l["a"])(C,$,k,!1,null,null,null);U.options.__file="Vaults.vue";var A=U.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vault"},[e._v("\n  "+e._s(e.vault.name)+"\n\n  "),a("ul",e._l(e.vaultKeeps,function(t){return a("li",{key:t.id},[a("img",{attrs:{src:t.img}}),a("h4",[e._v("vk.name")]),a("h5",[e._v("vk.description")]),a("button",{on:{click:function(e){}}},[e._v("delete keep from this vault")])])}))])},O=[],I={name:"vault",mounted(){this.$store.dispatch("getVaultKeeps",this.vaultId)},data(){return{newVault:{title:"",description:""}}},props:["vaultId"],computed:{vault(){return this.$store.state.vaults.find(e=>e.id==this.vaultId)||{}},vaultKeeps(){return this.$store.state.vaultKeeps}},methods:{getVaultKeeps(){},deleteVault(e){this.$store.dispatch("deleteVault",e)}}},N=I,j=Object(l["a"])(N,P,O,!1,null,null,null);j.options.__file="Vault.vue";var D=j.exports;s["a"].use(p["a"]);var L=new p["a"]({routes:[{path:"/",name:"home",component:f},{path:"/login",name:"login",component:y},{path:"/vaults",name:"vaults",component:A},{path:"/vault/:vaultId",name:"vault",props:!0,component:D}]}),S=a("2f62"),T=a("bc3a"),E=a.n(T);s["a"].use(S["a"]);let B=E.a.create({baseURL:"//localhost:5000/account/",timeout:3e3,withCredentials:!0}),F=E.a.create({baseURL:"//localhost:5000/api/",timeout:3e3,withCredentials:!0});var H=new S["a"].Store({state:{user:{},keeps:[],vaults:[],vaultKeeps:[],vaultId:""},mutations:{setUser(e,t){e.user=t},setKeeps(e,t){e.keeps=t},setVaults(e,t){e.vaults=t},setVaultKeeps(e,t){e.vaultKeeps=t},deleteVault(e,t){e.vaultId=t},incrementKeeps(e){}},actions:{getAllKeeps({commit:e,dispatch:t}){F.get("keeps").then(t=>{e("setKeeps",t.data)})},getAllVaultKeeps({commit:e,dispatch:t},a){F.get("vaultKeeps/"+a).then(t=>{e("setVaultKeeps",t.data)})},createKeep({commit:e,dispatch:t},a){F.post("keeps",a).then(e=>{t("getAllKeeps")})},createVaultKeep({commit:e,dispatch:t},a){F.post("vaultkeeps",a).then(t=>{e("setVaultKeeps")})},getAllVaults({commit:e,dispatch:t}){F.get("vaults").then(t=>{e("setVaults",t.data)})},createVault({commit:e,dispatch:t},a){F.post("vaults",a).then(e=>{t("getAllVaults")})},addToVault({commit:e,dispatch:t},a){F.put("keeps",a).then(t=>{e("keep",a)})},deleteVault({commit:e,dispatch:t},a){F.delete("vaults/"+a).then(e=>{t("getVaultsByUserId")}).catch(e=>{console.log("error:",e)})},getVaultKeeps({commit:e,dispatch:t},a){F.get("vaults/keeps/"+a).then(t=>{e("setVaultKeeps",t.data)})},register({commit:e,dispatch:t},a){B.post("register",a).then(t=>{e("setUser",t.data),L.push({name:"home"})}).catch(e=>{console.log("[registration failed] :",e)})},authenticate({commit:e,dispatch:t}){B.get("authenticate").then(a=>{e("setUser",a.data),t("getAllVaults"),L.push({name:"home"})}).catch(e=>{console.log("not authenticated")})},login({commit:e,dispatch:t},a){B.post("login",a).then(a=>{e("setUser",a.data),t("getAllVaults"),L.push({name:"home"})}).catch(e=>{console.log("Login Failed")})}}});s["a"].config.productionTip=!1,new s["a"]({router:L,store:H,render:e=>e(c)}).$mount("#app")},c21b:function(e,t,a){}});
//# sourceMappingURL=app.3985a310.js.map